<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36" version="25.0.1">
  <diagram name="第 1 页" id="qz_eTlOUjigopzMpCS2V">
    <mxGraphModel dx="1434" dy="785" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="QUjDSShRD5Z-mO_rARuF-3" value="&lt;div style=&quot;color: rgb(169, 183, 198);&quot;&gt;&lt;pre style=&quot;font-family: Monaco, monospace; font-size: 10.5pt;&quot;&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;public final class &lt;/span&gt;EchoServer {&lt;br&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;static final boolean &lt;/span&gt;&lt;span style=&quot;color: rgb(152, 118, 170); font-style: italic;&quot;&gt;SSL &lt;/span&gt;= System.&lt;span style=&quot;font-style: italic;&quot;&gt;getProperty&lt;/span&gt;(&lt;span style=&quot;color: rgb(106, 135, 89);&quot;&gt;&quot;ssl&quot;&lt;/span&gt;) != &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;null;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;    static final int &lt;/span&gt;&lt;span style=&quot;color: rgb(152, 118, 170); font-style: italic;&quot;&gt;PORT &lt;/span&gt;= Integer.&lt;span style=&quot;font-style: italic;&quot;&gt;parseInt&lt;/span&gt;(System.&lt;span style=&quot;font-style: italic;&quot;&gt;getProperty&lt;/span&gt;(&lt;span style=&quot;color: rgb(106, 135, 89);&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 135, 89);&quot;&gt;&quot;8007&quot;&lt;/span&gt;))&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;    public static void &lt;/span&gt;&lt;span style=&quot;color: rgb(255, 198, 109);&quot;&gt;main&lt;/span&gt;(String[] args) &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;throws &lt;/span&gt;Exception {&lt;br&gt;        &lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;// Configure SSL.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;final &lt;/span&gt;SslContext sslCtx&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;        if &lt;/span&gt;(&lt;span style=&quot;color: rgb(152, 118, 170); font-style: italic;&quot;&gt;SSL&lt;/span&gt;) {&lt;br&gt;            SelfSignedCertificate ssc = &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;new &lt;/span&gt;SelfSignedCertificate()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;            &lt;/span&gt;sslCtx = SslContextBuilder.&lt;span style=&quot;font-style: italic;&quot;&gt;forServer&lt;/span&gt;(ssc.certificate()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;, &lt;/span&gt;ssc.privateKey()).build()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;        &lt;/span&gt;} &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;else &lt;/span&gt;{&lt;br&gt;            sslCtx = &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;null;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;        &lt;/span&gt;}&lt;br&gt;&lt;br&gt;        &lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;// Configure the server.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;        &lt;/span&gt;EventLoopGroup bossGroup = &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;new &lt;/span&gt;NioEventLoopGroup(&lt;span style=&quot;color: rgb(104, 151, 187);&quot;&gt;1&lt;/span&gt;)&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;        &lt;/span&gt;EventLoopGroup workerGroup = &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;new &lt;/span&gt;NioEventLoopGroup()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;        final &lt;/span&gt;EchoServerHandler serverHandler = &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;new &lt;/span&gt;EchoServerHandler()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;        try &lt;/span&gt;{&lt;br&gt;            ServerBootstrap b = &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;new &lt;/span&gt;ServerBootstrap()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;            &lt;/span&gt;b.group(bossGroup&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;, &lt;/span&gt;workerGroup)&lt;br&gt;             .channel(NioServerSocketChannel.&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;class&lt;/span&gt;)&lt;br&gt;             .option(ChannelOption.&lt;span style=&quot;color: rgb(152, 118, 170); font-style: italic;&quot;&gt;SO_BACKLOG&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(104, 151, 187);&quot;&gt;100&lt;/span&gt;)&lt;br&gt;             .handler(&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;new &lt;/span&gt;LoggingHandler(LogLevel.&lt;span style=&quot;color: rgb(152, 118, 170); font-style: italic;&quot;&gt;INFO&lt;/span&gt;))&lt;br&gt;             .childHandler(&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;new &lt;/span&gt;ChannelInitializer&amp;lt;SocketChannel&amp;gt;() {&lt;br&gt;                 &lt;span style=&quot;color: rgb(187, 181, 41);&quot;&gt;@Override&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 181, 41);&quot;&gt;                 &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;public void &lt;/span&gt;&lt;span style=&quot;color: rgb(255, 198, 109);&quot;&gt;initChannel&lt;/span&gt;(SocketChannel ch) &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;throws &lt;/span&gt;Exception {&lt;br&gt;                     ChannelPipeline p = ch.pipeline()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;                     if &lt;/span&gt;(&lt;span style=&quot;color: rgb(179, 137, 197);&quot;&gt;sslCtx &lt;/span&gt;!= &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;                         p.addLast(&lt;span style=&quot;color: rgb(179, 137, 197);&quot;&gt;sslCtx&lt;/span&gt;.newHandler(ch.alloc()))&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;                     &lt;/span&gt;}&lt;br&gt;                     &lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;//p.addLast(new LoggingHandler(LogLevel.INFO));&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;                     &lt;/span&gt;p.addLast(&lt;span style=&quot;color: rgb(179, 137, 197);&quot;&gt;serverHandler&lt;/span&gt;)&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;                 &lt;/span&gt;}&lt;br&gt;             })&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;// Start the server.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;            &lt;/span&gt;ChannelFuture f = b.bind(&lt;span style=&quot;color: rgb(152, 118, 170); font-style: italic;&quot;&gt;PORT&lt;/span&gt;).sync()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;// Wait until the server socket is closed.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;            &lt;/span&gt;f.channel().closeFuture().sync()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;        &lt;/span&gt;} &lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;finally &lt;/span&gt;{&lt;br&gt;            &lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;// Shut down all event loops to terminate all threads.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;            &lt;/span&gt;bossGroup.shutdownGracefully()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;            &lt;/span&gt;workerGroup.shutdownGracefully()&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 120, 50);&quot;&gt;        &lt;/span&gt;}&lt;br&gt;    }&lt;br&gt;}&lt;/pre&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;align=left;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="30" y="240" width="800" height="870" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-4" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;new NioEventLoopGroup&lt;/font&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Comic Sans MS&amp;quot;; background-color: initial;&quot;&gt;&amp;nbsp;在创建NioEventLoopGroup过程，会通过他的父类MultithreadEventExecutorGroup#newChild(Executor, Args)，创建指定数量的NioEventLoop放到&lt;font style=&quot;background-color: initial;&quot; face=&quot;Comic Sans MS&quot;&gt;children数组中，其中Executor是&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;ThreadPerTaskExecutor(newDefaultThreadFactory())，他会根据线程Factory异步创建线程并启动，创建的时机在往&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;SingleThreadEventExecutor提交执行任务的时候，会调用&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;startThread()&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;创建NioEventLoop的时候会创建selector，他是和NioEventLoop绑定的。&lt;/span&gt;&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;align=left;" vertex="1" parent="1">
          <mxGeometry x="870" y="350" width="740" height="150" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.625;entryY=0.345;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" edge="1" parent="1" source="QUjDSShRD5Z-mO_rARuF-4" target="QUjDSShRD5Z-mO_rARuF-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-6" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;.channel(NioServerSocketChannel.Class)&lt;/span&gt;&lt;/font&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Comic Sans MS&amp;quot;; background-color: initial;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;align=left;" vertex="1" parent="1">
          <mxGeometry x="900" y="520" width="710" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.538;entryY=0.46;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" edge="1" parent="1" source="QUjDSShRD5Z-mO_rARuF-6" target="QUjDSShRD5Z-mO_rARuF-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-9" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;.childHandler(new ChannelInitializer&amp;lt;ScoketChannel&amp;gt;(){})&lt;/span&gt;&lt;/font&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Comic Sans MS&amp;quot;; background-color: initial;&quot;&gt;&amp;nbsp;设置SocketChannel的ChannelHandler,其中ChannelInitializer是一个特殊的ChannelInBound，他会在Channle触发Register时把initChannel方法，我们在此方法中可以编排Channel内部关联的ChannelPipeline&lt;br&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;align=left;" vertex="1" parent="1">
          <mxGeometry x="900" y="760" width="740" height="100" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.7;entryY=0.517;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" edge="1" parent="1" source="QUjDSShRD5Z-mO_rARuF-9" target="QUjDSShRD5Z-mO_rARuF-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-11" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot; face=&quot;Comic Sans MS&quot;&gt;b.bind(PORT).sync()触发启动流程&lt;/font&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;span style=&quot;font-family: Monaco, monospace; font-size: 10.5pt;&quot;&gt;initAndRegister()，会通过反射创建NioServerSocketChannel,在init()方法中设置channel的属性，然后获取到NioServerSocketChannel的ChannelPipeline也添加一个ChannelInitializer，在这个&lt;/span&gt;&lt;span style=&quot;font-family: Monaco, monospace; font-size: 14px; background-color: initial;&quot;&gt;ChannelInitializer中，会把之前通过handler()方法设置的handler设置到Pipeline中，并添加一个特殊Handler,&lt;/span&gt;&lt;span style=&quot;font-family: Monaco, monospace; font-size: 10.5pt;&quot;&gt;ServerBootstrapAcceptor, 是处理客户端连接的接入的，接入的时候会把childHandler和childOptions初始化好。&lt;/span&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;span style=&quot;font-family: Monaco, monospace; font-size: 10.5pt;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;pre style=&quot;font-family: Monaco, monospace; font-size: 10.5pt;&quot;&gt;config().group().register(channel); 然后异步进行注册&lt;/pre&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-family: &amp;quot;Comic Sans MS&amp;quot;; font-size: 14px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-family: &amp;quot;Comic Sans MS&amp;quot;; font-size: 14px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/blockquote&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;align=left;" vertex="1" parent="1">
          <mxGeometry x="871" y="880" width="740" height="220" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.525;entryY=0.77;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" edge="1" parent="1" source="QUjDSShRD5Z-mO_rARuF-11" target="QUjDSShRD5Z-mO_rARuF-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-13" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;.option(ChannelOptions.SO_BACKLOG, 100)&lt;/span&gt;&lt;/font&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Comic Sans MS&amp;quot;; background-color: initial;&quot;&gt;&amp;nbsp;设置NioServerSocketChannel的属性，其实底层是设置Java的ServerSocket的属性&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;align=left;" vertex="1" parent="1">
          <mxGeometry x="920" y="600" width="680" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.538;entryY=0.483;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" edge="1" parent="1" source="QUjDSShRD5Z-mO_rARuF-13" target="QUjDSShRD5Z-mO_rARuF-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-15" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;.handler(new LoggingHandler(LogLevel.INFO))&lt;/span&gt;&lt;/font&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;ul&gt;&lt;li&gt;&lt;font face=&quot;Comic Sans MS&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;设置&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;Comic Sans MS&amp;quot;; font-size: 14px;&quot;&gt;NioServerSocketChannel的handler&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;" style="rounded=0;whiteSpace=wrap;html=1;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;align=left;" vertex="1" parent="1">
          <mxGeometry x="920" y="690" width="680" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QUjDSShRD5Z-mO_rARuF-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;hachureGap=4;jiggle=2;curveFitting=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.588;entryY=0.506;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" edge="1" parent="1" source="QUjDSShRD5Z-mO_rARuF-15" target="QUjDSShRD5Z-mO_rARuF-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
